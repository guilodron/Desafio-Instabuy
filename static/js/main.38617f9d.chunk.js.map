{"version":3,"sources":["assets/logo-desktop.png","styles/global.ts","Components/Item/styles.ts","Components/Item/index.tsx","Components/Banner/styles.ts","Components/Banner/index.tsx","Pages/Products/styles.ts","Pages/Products/index.tsx","Components/Header/styles.ts","Components/Header/index.tsx","App.tsx","index.tsx"],"names":["module","exports","createGlobalStyle","Container","styled","div","Item","name","price","src","alt","Intl","NumberFormat","style","currency","format","Banner","useState","images","setImages","window","innerWidth","isMobile","setIsMobile","handleResize","useEffect","addEventListener","save","axios","get","then","response","data","banners","map","banner","is_mobile","mobile","image","desktop","Collection","Itens","Select","select","Filters","Input","input","Products","sizes","s","m","l","produtos","setProdutos","filter","setFilter","search","setSearch","categories","setCategories","collection_items","collections","products","collection","c","title","id","items","item","prices","section","allProducts","forEach","handleImage","useCallback","size","handleFilterChange","event","target","value","handleSearch","handleSort","newOrder","sort","a","b","color","borderBottom","onChange","category","key","type","placeholder","produto","haystack","normalize","replace","toLowerCase","needle","indexOf","header","Header","iconDesktop","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.38617f9d.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo-desktop.316b1f45.png\";","import { createGlobalStyle } from 'styled-components';\n\nexport default createGlobalStyle`\n  * {\n    margin: 0;\n    padding: 0;\n    box-sizing: border-box;\n    outline: 0;\n    background-color: #F0F0F5;\n  }\n\n  body {\n    font-family: 'Roboto', serif;\n    font-size: 16px;\n    -webkit-font-smoothing: antialiased;\n  }\n`;\n","import styled from 'styled-components';\n\nexport const Container = styled.div`\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  width: 212px;\n  height: 280px;\n  border: 1px solid rgb(0, 128, 0, 0.3);\n  margin: 5px 5px;\n  transition: 0.3s;\n  border-radius: 5px;\n  padding: 10px;\n  background-color: white;\n\n  &:hover {\n    border: 2px solid green;\n  }\n\n  img {\n    max-width: 150;\n    max-height: 150px;\n    margin-bottom: 10px;\n  }\n\n  strong {\n    text-align: center;\n    flex: 1;\n    background-color: white;\n\n  }\n\n  span {\n    font-size: 24px;\n    font-weight: 700;\n    color: green;\n    margin-bottom: 10px;\n    background-color: white;\n\n  }\n`;\n","/* eslint-disable react/prop-types */\nimport React from 'react';\nimport { Container } from './styles';\n\ntype ItemProps = {\n  src: string;\n  name: string;\n  price: number;\n}\n\nconst Item: React.FC<ItemProps> = ({ name, price, src }) => (\n  <Container>\n    <img src={src} alt={name} />\n    <strong>{name}</strong>\n    <span>{Intl.NumberFormat('pt-br', { style: 'currency', currency: 'BRL' }).format(price)}</span>\n  </Container>\n);\n\nexport default Item;\n","import styled from 'styled-components';\n\ninterface IImages {\n  mobile: string;\n  desktop: string;\n}\n\ninterface ContainerProps {\n  images: IImages | undefined;\n}\n\nexport const Container = styled.div<ContainerProps>`\n  max-width: 1350px;\n  margin-bottom: 20px;\n\n\n  img {\n    /* max-width: 100%; */\n\n    height: auto;\n    width: 100%;\n  }\n\n`;\n","import React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport { Container } from './styles';\n\ninterface IImages {\n  mobile: string;\n  desktop: string;\n}\n\ninterface IBanner {\n  // eslint-disable-next-line camelcase\n  is_mobile: boolean;\n  image: string;\n}\n\nconst Banner: React.FC = () => {\n  const [images, setImages] = useState<IImages>();\n  const [isMobile, setIsMobile] = useState(window.innerWidth < 600);\n\n  const handleResize = () => {\n    setIsMobile(window.innerWidth < 600);\n  };\n\n  useEffect(() => {\n    window.addEventListener('resize', handleResize);\n    const save: IImages = {} as IImages;\n\n    axios.get('https://api.instabuy.com.br/apiv3/layout?subdomain=organicos')\n      .then((response) => response.data)\n      .then((data) => data.data.banners)\n      // eslint-disable-next-line array-callback-return\n      .then((banners) => banners.map((banner: IBanner) => {\n        if (banner.is_mobile) {\n          save.mobile = `https://ibassets.com.br/ib.store.banner/bnr-${banner.image}`;\n        } else {\n          save.desktop = `https://ibassets.com.br/ib.store.banner/bnr-${banner.image}`;\n        }\n      }));\n    setImages(save);\n  }, []);\n\n  return (\n    <Container images={images}>\n      <img src={isMobile ? images?.mobile : images?.desktop} alt=\"banner\" />\n    </Container>\n  );\n};\n\nexport default Banner;\n","import styled from 'styled-components';\n\nexport const Container = styled.div`\n  max-width: 1350px;\n  margin-right: auto;\n  margin-left: auto;\n  display: flex;\n  flex-direction: column;\n\n  @media(max-width: 1400px) {\n    h1 {\n      margin-left: 20px;\n      margin-right: 20px;\n    }\n  }\n`;\n\nexport const Collection = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n\n`;\n\nexport const Itens = styled.div`\n  display: flex;\n  justify-content: center;\n  flex-wrap: wrap;\n\n  @media(max-width: 440px){\n    div {\n      margin: 5px 2px;\n      width: 160px;\n    }\n  }\n  @media(max-width: 330px){\n    div {\n      margin: 0px 2px;\n      width: 160px;\n    }\n  }\n`;\n\nexport const Select = styled.select`\n  height: 30px;\n  border: none;\n  border-bottom: 1px solid green;\n  font-size: 16px;\n  @media(min-width: 540px) {\n    & + & {\n      margin: 0 10px;\n    }\n  }\n  @media(max-width: 540px) {\n    & + & {\n      margin: 10px 0;\n    }\n  }\n\n\n`;\n\nexport const Filters = styled.div`\n  display: flex;\n  align-items:center;\n  justify-content: flex-end;\n  margin: 25px 0 15px 0;\n  max-width: 95%;\n\n  @media(max-width: 540px) {\n    flex-direction: column;\n    align-items: flex-start;\n    justify-content: space-between;\n    margin-left: 30px;\n  }\n\n  span {\n    font-weight: 700;\n    color: green;\n    margin-right: 10px;\n  }\n\n\n`;\n\nexport const Input = styled.input`\n  border: none;\n  border-bottom: 1px solid green;\n  height: 30px;\n  font-size: 16px;\n`;\n","import React, { useState, useEffect, useCallback } from 'react';\nimport axios from 'axios';\nimport Item from '../../Components/Item';\nimport Banner from '../../Components/Banner';\nimport {\n  Container, Collection, Itens, Select, Filters, Input,\n} from './styles';\n\ninterface Price {\n  price: number;\n}\n\ninterface IProduct {\n  name: string;\n  id: string;\n  images: string[];\n  prices: Price[];\n}\n\ninterface ICollection {\n  id: string;\n  title: string;\n  items: IProduct[];\n\n}\n\ninterface IFilteredProduct {\n  name: string;\n  id: string;\n  image: string;\n  price: number;\n  section: string;\n}\n\ninterface ICategory {\n  id: string;\n  title: string;\n}\n\nconst Products: React.FC = () => {\n  const sizes = {\n    s: 'small/s',\n    m: 'medium/m',\n    l: 'large/l',\n  };\n\n  const [produtos, setProdutos] = useState([] as IFilteredProduct[]);\n  const [filter, setFilter] = useState('none');\n  const [search, setSearch] = useState('');\n  const [categories, setCategories] = useState([] as ICategory[]);\n\n  useEffect(() => {\n    axios.get('https://api.instabuy.com.br/apiv3/layout?subdomain=organicos')\n      .then((response) => response.data)\n      .then((data) => data.data.collection_items)\n      .then((collections) => {\n        const products = collections.map((collection: ICollection) => {\n          setCategories((c) => [...c, { title: collection.title, id: collection.id }]);\n          return collection.items.map((item) => ({\n            name: item.name,\n            id: item.id,\n            image: item.images[0],\n            price: item.prices[0].price,\n            section: collection.title,\n          }));\n        });\n        let allProducts: IFilteredProduct[] = [];\n        products.forEach(\n          (item: IFilteredProduct[]) => { allProducts = [...allProducts, ...item]; },\n        );\n        setProdutos(allProducts);\n      });\n  }, []);\n\n  const handleImage = useCallback((src: string, size: 'm' | 'l' | 's') => {\n    const image = `https://assets.instabuy.com.br/ib.item.image.${sizes[size]}-${src}`;\n    return image;\n  }, [sizes]);\n\n  const handleFilterChange = useCallback((event) => {\n    setFilter(event.target.value);\n  }, []);\n\n  const handleSearch = useCallback((event) => {\n    setSearch(event.target.value);\n  }, []);\n\n  const handleSort = useCallback((event) => {\n    if (event.target.value !== 'none') {\n      const newOrder = produtos;\n      if (event.target.value === 'asc') {\n        newOrder.sort((a, b) => b.price - a.price);\n      } else {\n        newOrder.sort((a, b) => a.price - b.price);\n      }\n      setProdutos([...newOrder]);\n    }\n  }, [produtos]);\n\n  return (\n    <Container>\n      <Banner />\n      <h1 style={{ color: 'rgb(0, 128, 0, 0.8)', borderBottom: '3px solid green' }}>Orgânicos</h1>\n      <Filters>\n        <span>Filtros:</span>\n        <Select id=\"select\" onChange={handleFilterChange}>\n          <option value=\"none\">Categoria</option>\n          {categories && categories.map((category) => (\n            <option key={category.id} value={category.title}>{category.title}</option>\n          ))}\n        </Select>\n        <Select onChange={handleSort}>\n          <option value=\"none\">Ordenar</option>\n          <option value=\"asc\">Maior preço</option>\n          <option value=\"desc\">Menor preço</option>\n        </Select>\n        <Input\n          type=\"text\"\n          placeholder=\"Pesquisar\"\n          value={search}\n          onChange={handleSearch}\n        />\n      </Filters>\n      <Collection>\n        <Itens>\n          {produtos && produtos\n            .filter((produto) => {\n              if (filter === 'none' && !search) { return true; }\n              if (search && filter === 'none') {\n                const haystack = produto.name.normalize('NFD').replace(/[\\u0300-\\u036f]/g, '').toLowerCase();\n                const needle = search.toLowerCase().normalize('NFD').replace(/[\\u0300-\\u036f]/g, '');\n                return (haystack.indexOf(needle) !== -1);\n              }\n\n              const haystack = produto.name.normalize('NFD').replace(/[\\u0300-\\u036f]/g, '').toLowerCase();\n              const needle = search.toLowerCase().normalize('NFD').replace(/[\\u0300-\\u036f]/g, '');\n              return (produto.section === filter && haystack.indexOf(needle) !== -1);\n            })\n            .map((produto) => (\n              <Item\n                key={produto.id}\n                src={handleImage(produto.image, 'l')}\n                name={produto.name}\n                price={produto.price}\n              />\n            ))}\n        </Itens>\n      </Collection>\n    </Container>\n  );\n};\n\nexport default Products;\n","import styled from 'styled-components';\n\nexport const Container = styled.header`\n  height: 100px;\n  display: flex;\n  align-items: center;\n  max-width: 1400px;\n  margin: 0 auto;\n\n\n\n  img{\n    background: transparent;\n    height: 50px;\n  }\n`;\n","import React from 'react';\nimport { Container } from './styles';\nimport iconDesktop from '../../assets/logo-desktop.png';\n\nconst Header:React.FC = () => (\n  <Container>\n    <img src={iconDesktop} alt=\"logo\" />\n  </Container>\n);\n\nexport default Header;\n","import React from 'react';\nimport GlobalStyle from './styles/global';\nimport Products from './Pages/Products';\nimport Header from './Components/Header';\n\nfunction App() {\n  return (\n    <>\n      <GlobalStyle />\n      <Header />\n      <Products />\n    </>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}